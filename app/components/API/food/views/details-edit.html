<div class="col-sm-9">
    <form class="form-horizontal" role="form">
        <div class="form-group">
            <label for="name" class="col-sm-3 control-label">Nom</label>
            <div class="col-sm-9">
                <input type="text" class="form-control" id="name" ng-model="newFood_item.name" ng-change="computeNewPrice()">
            </div>
        </div>
        <div class="form-group">
            <label for="name_plural" class="col-sm-3 control-label">Pluriel</label>
            <div class="col-sm-9">
                <input type="text" class="form-control" id="name_plural" ng-model="newFood_item.name_plural" ng-change="computeNewPrice()">
            </div>
        </div>
        <div class="form-group">
            <label for="unit" class="col-sm-3 control-label">Unité de vente</label>
            <div class="col-sm-4">
                <input type="text" class="form-control" id="unit" ng-model="newFood_item.unit_name" ng-change="computeNewPrice()" placeholder="Lorsque qu'un élève achète l'aliment au bar">
            </div>
            <label for="funit_plural" class="col-sm-2 control-label">Pluriel</label>
            <div class="col-sm-3">
                <input type="text" class="form-control" id="funit_plural" placeholder="" ng-model="newFood_item.unit_name_plural">
            </div>
        </div>
        <div class="form-group" ng-show="newFood_item.unit_name != food_item.unit_name">
            <label for="unit_factor" class="col-sm-3 control-label">1 {{ newFood_item.unit_name || food_item.details.name }} = </label>
            <div class="col-sm-9">
                <div class="input-group">
                    <input type="text" class="form-control" id="unit_factor" ng-model="newFood_item.unit_factor" ng-change="computeNewPrice()">
                    <span class="input-group-addon">{{ (food_item.unit_name_plural && newFood_item.unit_factor > 1) && food_item.unit_name_plural || (food_item.unit_name || ((food_item.name_plural && newFood_item.unit_factor > 1) && food_item.name_plural || food_item.name)) }}</span>
                </div>
            </div>
        </div>
        <div class="form-group" ng-show="newFood_item.unit_name != food_item.unit_name">
            <label for="fprice" class="col-sm-3 control-label">Prix</label>
            <div class="col-sm-9">
                <p class="form-control-static">
                    <bars:sellitem:price item="newFood_item"></bars:sellitem:price>
                </p>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-9 col-sm-offset-3">
                <p class="form-control-static">
                    Pour modifier le prix et le ratio acheté/vendu, c'est dans l'onglet Stocks, puis bouton <b>Modifier</b> à droite de chaque ligne.
                </p>
            </div>
        </div>
        <div class="form-group">
            <label for="tax" class="col-sm-3 control-label">Taxe</label>
            <div class="col-sm-9">
                <div class="input-group">
                    <input type="text" class="form-control" id="tax" ng-model="newFood_item.tax" ng-change="computeNewPrice()">
                    <span class="input-group-addon">%</span>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="keywords" class="col-sm-3 control-label">Mots clés</label>
            <div class="col-sm-9">
                <input type="text" class="form-control" id="keywords" ng-model="newFood_item.keywords">
            </div>
        </div>
        <!-- <div class="form-group" ng-show="newFood_item.fuzzy_price != (food_item.fuzzy_price)">
            <label class="col-sm-8 control-label">Ancienne valeur présente dans le bar</label>
            <label class="col-sm-4 control-label">
                <span class="label label-info">{{ food_item.fuzzy_qty * food_item.fuzzy_price | currency }}</span>
            </label>
        </div>
        <div class="form-group" ng-show="newFood_item.fuzzy_price != (food_item.fuzzy_price)">
            <label class="col-sm-8 control-label">Nouvelle valeur présente dans le bar</label>
            <label class="col-sm-4 control-label">
                <span class="label label-info">{{ food_item.fuzzy_qty * newFood_item.fuzzy_price /newFood_item.new_unit_value | currency }}</span>
            </label>
        </div> -->
        <div class="form-group" ng-show="newFood_item.unit_name != food_item.unit_name">
            <label class="col-sm-8 control-label">Ancienne quantité présente dans le bar</label>
            <label class="col-sm-4 control-label">
                <span class="label label-info"><bars:sellitem:qty item="food_item" qty="food_item.fuzzy_qty"></bars:sellitem:qty></span>
            </label>
        </div>
        <div class="form-group" ng-show="newFood_item.unit_name != food_item.unit_name">
            <label class="col-sm-8 control-label">Nouvelle quantité présente dans le bar</label>
            <label class="col-sm-4 control-label">
                <span class="label label-info"><bars:sellitem:qty item="newFood_item" qty="newFood_item.fuzzy_qty"></bars:sellitem:qty></span>
                <!-- {{ food_item.qty/food_item.unit_value/newFood_item.new_unit_value | number:2 }} {{ (food_item.qty/newFood_item.new_unit_value/food_item.unit_value > 1 && newFood_item.unit_name_plural) && newFood_item.unit_name_plural || newFood_item.unit_name }}</span> -->
            </label>
        </div>
    </form>
</div>
<div class="col-sm-3 text-right">
    <div class="btn-group-vertical">
        <a type="submit" class="btn btn-primary" ng-click="editFood()" id="food-details-edition-validate">
            <span class="glyphicon glyphicon-ok"> Valider</span>
        </a>
        <a type="submit" class="btn btn-info" ng-click="resetFood()">
            <span class="glyphicon glyphicon-remove"> Annuler</span>
        </a>
        <a class="btn btn-warning" ng-class="food_item.deleted && 'active'" ng-click="toggleDeleted()">
            <span class="glyphicon glyphicon-eye-close"> Cacher</span>
        </a>
    </div>
</div>

<div class="col-sm-12">
    <h2>Gestion des utilisateurs</h2>

    <div class="row">
        <div class="col-sm-12">
            <form class="form-horizontal">
                <div class="form-group">
                    <label class="control-label col-sm-2" for="searchUserInput">Rechercher</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="searchUserInput" placeholder="Tape un nom ou un pseudo" typeahead="usr.lastname + ' ' + usr.firstname for usr in user_list | filter:$viewValue | limitTo:7" ng-model="searchl" autocomplete="off" typeahead-on-select="findUser($item)">
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-12">
            <h2>Liste des respos-bars</h2>
            <table class="table table-striped table-hover">
                <tr>
                    <th>Nom</th>
                    <th>Prénom</th>
                    <th>Email</th>
                    <th>Bar</th>
                </tr>
                <tr ng-repeat="respo in respos | orderBy:'bar'">
                    <td>{{ respo.user.lastname }}</td>
                    <td>{{ respo.user.firstname }}</td>
                    <td>{{ respo.user.email }}</td>
                    <td>{{ respo.bar.name || respo.bar.id }}</td>
                </tr>
            </table>
            <div class="form-group">
                <label class="control-label col-sm-2" for="ml">Mailing list</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="ml" ng-model="remails">
                </div>
            </div>
        </div>
    </div>

    <p>À faire ici</p>
    <ul>
        <li>Panel avec les notifications concernant les Users</li>
        <li>Bouton "Ajouter User"</li>
        <li>Lien vers la gestion des roots</li>
        <li>Lien vers la gestion des respos bar (dont "communication aux respos bar")</li>
    </ul>



    <h2>Importer des utilisateurs</h2>
    <form class="form-horizontal" ng-submit="importUsers()">
        <div class="form-group">
            <div class="col-sm-9 col-sm-offset-3">
                <progressbar value="nb/total * 100" type="success"><b>{{ nb }} / {{ total }}</b></progressbar>
            </div>
        </div>
        <div class="form-group">
            <label for="ulastname" class="col-sm-3 control-label">Format</label>
            <div class="col-sm-9">
<pre>[{
    "section": "avironjone",
    "firstname": "Prénom",
    "name": "Nom",
    "email": "prenom.nom@polytechnique.edu",
    "login": "prenom.nom"
}]</pre>
            </div>
        </div>
        <div class="form-group">
            <label for="ulastname" class="col-sm-3 control-label">Liste JSON</label>
            <div class="col-sm-9">
                <textarea ng-model="lista" style="width: 100%; height: 200px;"></textarea>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-3 col-sm-9">
                <input type="submit" class="btn btn-success" value="Importer {{ oa.length }} comptes" ng-class="oa.length == 0 && 'disabled' || ''" />
            </div>
          </div>
    </form>
</div>
